read R_x bank3 3
read R_y bank3 4
read pos_x bank3 0
read pos_y bank3 1
read pos_z bank3 2
set screen_half_width 88
set screen_half_height 88
set focal_dist 1
read XAxis_x bank3 5
read XAxis_y bank3 6
read XAxis_z bank3 7
read YAxis_x bank3 8
read YAxis_y bank3 9
read YAxis_z bank3 10
read ZAxis_x bank3 11
read ZAxis_y bank3 12
read ZAxis_z bank3 13
set point_adress 0
set write_adress 0
read point_x bank1 point_adress
op add temp1 point_adress 1
read point_y bank1 temp1
op add temp1 point_adress 2
read point_z bank1 temp1
op sub point_x point_x pos_x
op sub point_y point_y pos_y
op sub point_z point_z pos_z
op mul temp1 XAxis_x point_x
op mul temp2 YAxis_x point_y
op mul temp3 ZAxis_x point_z
op add temp1 temp1 temp2
op add point_local_x temp1 temp3
op mul temp1 XAxis_y point_x
op mul temp2 YAxis_y point_y
op mul temp3 ZAxis_y point_z
op add temp1 temp1 temp2
op add point_local_y temp1 temp3
op mul temp1 XAxis_z point_x
op mul temp2 YAxis_z point_y
op mul temp3 ZAxis_z point_z
op add temp1 temp1 temp2
op add point_local_z temp1 temp3
op div temp1 point_local_x point_local_z
op mul temp1 temp1 focal_dist
op mul point_proj_x temp1 screen_half_width
op div temp1 point_local_y point_local_z
op mul temp1 temp1 focal_dist
op mul point_proj_y temp1 screen_half_height
jump  53    greaterThan point_local_y 0
op sub temp1 0 point_proj_x
op mul point_proj_x temp1 1000
op sub temp1 0 point_proj_y
op mul point_proj_y temp1 1000
op add point_proj_x point_proj_x screen_half_width
op add point_proj_y point_proj_y screen_half_height
write point_proj_x bank2 write_adress
op add mem_adress512 write_adress 1
write point_proj_y bank2 mem_adress512
op add point_adress point_adress 3
op add write_adress write_adress 3
read point_x bank1 point_adress
op add temp1 point_adress 1
read point_y bank1 temp1
op add temp1 point_adress 2
read point_z bank1 temp1
jump 24 notEqual point_x 123
write 123 bank2 write_adress
